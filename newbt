AWSTemplateFormatVersion: '2010-09-09'
Description: Provision ECS Fargate type ECS Service for testing SpringBoot Blue/Green Deployment
Parameters:
  ApplicationShortName:
    Type: String
    Description: eCOS SpringBoot Blue/Green
  ClusterName:
    Type: String
  ServiceName:
    Type: String
  ContainerName:
    Type: String
    Description: Container Name
  DesiredCount:
    Type: String
    Description: Desired number of task

Resources:

  EcsService:
    Type: AWS::ECS::Service
    DependsOn: LoadBalancerRule
    Properties:
      ServiceName: !Ref ServiceName
      Cluster: !Ref ClusterName
      DesiredCount: !Ref DesiredCount
      LaunchType: FARGATE
